---
import { SnipcartProduct } from '@lloydjatkinson/astro-snipcart';

import Stack from './Stack.astro';
import Hero from './Hero.astro';
import ProductGrid from './ProductGrid.astro';
import ProductCard from './ProductCard.astro';

export interface Props {
    readonly title: string;
    readonly description: string;
    readonly banner?: string;
    readonly heroHeading: string;
    readonly heroSubHeading: string;
    readonly heroImage?: string;
    readonly products: readonly SnipcartProduct[];
}
const {
    heroHeading,
    heroSubHeading,
    heroImage,
    products,
} = Astro.props as Props;
---
<Stack>
    <Hero
        heading={ heroHeading }
        subHeading={ heroSubHeading }
        image={ heroImage }>
        <slot />
    </Hero>
    <ProductGrid>
        {
            products.map((product) => (
                <ProductCard
                    currency="GBP"
                    { ...product } />
            ))
        }
    </ProductGrid>
</Stack>